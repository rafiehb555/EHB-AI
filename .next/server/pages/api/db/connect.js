"use strict";(()=>{var e={};e.id=310,e.ids=[310],e.modules={127:(e,n)=>{Object.defineProperty(n,"A",{enumerable:!0,get:function(){return o}});var o=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},744:(e,n,o)=>{o.r(n),o.d(n,{config:()=>d,default:()=>u,routeModule:()=>l});var t={};o.r(t),o.d(t,{default:()=>a});var r=o(3516),i=o(127),s=o(3007),c=o(4651);async function a(e,n){if("POST"===e.method)try{await (0,c.Xs)(),n.status(200).json({success:!0,message:"Connected to MongoDB"})}catch(e){n.status(500).json({error:e.message,success:!1})}else n.status(405).json({error:"Method not allowed"})}let u=(0,s.M)(t,"default"),d=(0,s.M)(t,"config"),l=new r.PagesAPIRouteModule({definition:{kind:i.A.PAGES_API,page:"/api/db/connect",pathname:"/api/db/connect",bundlePath:"",filename:""},userland:t})},3007:(e,n)=>{Object.defineProperty(n,"M",{enumerable:!0,get:function(){return function e(n,o){return o in n?n[o]:"then"in n&&"function"==typeof n.then?n.then(n=>e(n,o)):"function"==typeof n&&"default"===o?n:void 0}}})},3516:(e,n,o)=>{e.exports=o(5600)},4651:(e,n,o)=>{o.d(n,{GB:()=>a,Xs:()=>s,dw:()=>c});var t=o(6037),r=o.n(t),i=o(6603);async function s(){return await (0,i.A)()}async function c(){return 0!==r().connection.readyState?(await r().disconnect(),{success:!0,message:"Disconnected from MongoDB"}):{success:!1,message:"No active MongoDB connection"}}async function a(e,n,...o){if(await (0,i.A)(),!r().connection.db)throw Error("No active MongoDB connection");let t=r().connection.db.collection(e);if("function"!=typeof t[n])throw Error(`Method ${n} not supported on collection`);return await t[n](...o)}},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6037:e=>{e.exports=require("mongoose")},6603:(e,n,o)=>{o.d(n,{A:()=>c});var t=o(6037),r=o.n(t);let i=process.env.MONGODB_URI;if(!i)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let s=global.mongoose;s||(s=global.mongoose={conn:null,promise:null});let c=async function(){return s.conn||(s.promise||(s.promise=r().connect(i,{bufferCommands:!1}).then(e=>e)),s.conn=await s.promise),s.conn}}};var n=require("../../../webpack-api-runtime.js");n.C(e);var o=n(n.s=744);module.exports=o})();