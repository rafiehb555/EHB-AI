"use strict";(()=>{var e={};e.id=962,e.ids=[962],e.modules={127:(e,n)=>{Object.defineProperty(n,"A",{enumerable:!0,get:function(){return o}});var o=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},3007:(e,n)=>{Object.defineProperty(n,"M",{enumerable:!0,get:function(){return function e(n,o){return o in n?n[o]:"then"in n&&"function"==typeof n.then?n.then(n=>e(n,o)):"function"==typeof n&&"default"===o?n:void 0}}})},3516:(e,n,o)=>{e.exports=o(5600)},4651:(e,n,o)=>{o.d(n,{GB:()=>a,Xs:()=>c,dw:()=>s});var t=o(6037),r=o.n(t),i=o(6603);async function c(){return await (0,i.A)()}async function s(){return 0!==r().connection.readyState?(await r().disconnect(),{success:!0,message:"Disconnected from MongoDB"}):{success:!1,message:"No active MongoDB connection"}}async function a(e,n,...o){if(await (0,i.A)(),!r().connection.db)throw Error("No active MongoDB connection");let t=r().connection.db.collection(e);if("function"!=typeof t[n])throw Error(`Method ${n} not supported on collection`);return await t[n](...o)}},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6037:e=>{e.exports=require("mongoose")},6603:(e,n,o)=>{o.d(n,{A:()=>s});var t=o(6037),r=o.n(t);let i=process.env.MONGODB_URI;if(!i)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let c=global.mongoose;c||(c=global.mongoose={conn:null,promise:null});let s=async function(){return c.conn||(c.promise||(c.promise=r().connect(i,{bufferCommands:!1}).then(e=>e)),c.conn=await c.promise),c.conn}},8509:(e,n,o)=>{o.r(n),o.d(n,{config:()=>d,default:()=>u,routeModule:()=>l});var t={};o.r(t),o.d(t,{default:()=>a});var r=o(3516),i=o(127),c=o(3007),s=o(4651);async function a(e,n){if("POST"===e.method)try{let e=await (0,s.dw)();n.status(200).json(e)}catch(e){n.status(500).json({error:e.message,success:!1})}else n.status(405).json({error:"Method not allowed"})}let u=(0,c.M)(t,"default"),d=(0,c.M)(t,"config"),l=new r.PagesAPIRouteModule({definition:{kind:i.A.PAGES_API,page:"/api/db/disconnect",pathname:"/api/db/disconnect",bundlePath:"",filename:""},userland:t})}};var n=require("../../../webpack-api-runtime.js");n.C(e);var o=n(n.s=8509);module.exports=o})();