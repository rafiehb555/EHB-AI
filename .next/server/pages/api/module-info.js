"use strict";(()=>{var e={};e.id=988,e.ids=[988],e.modules={127:(e,t)=>{Object.defineProperty(t,"A",{enumerable:!0,get:function(){return n}});var n=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},918:(e,t,n)=>{let o=n(9021),r=n(3873),{Configuration:i,OpenAIApi:s}=n(6082);class a{constructor(e,t="ehb_company_info"){this.projectRoot=e,this.infoFolder=r.join(e,t),this.openai=null,this.ensureInfoFolder()}ensureInfoFolder(){o.existsSync(this.infoFolder)||o.mkdirSync(this.infoFolder,{recursive:!0})}setOpenAIKey(e){let t=new i({apiKey:e});this.openai=new s(t)}async fetchAndSaveInfo(e,t){if(!this.openai)throw Error("OpenAI API key not set.");let n=(await this.openai.createChatCompletion({model:"gpt-4",messages:[{role:"user",content:e}]})).data.choices[0].message.content,i=r.join(this.infoFolder,t);return o.writeFileSync(i,n),n}async fetchCompanyOverview(){return this.fetchAndSaveInfo("What is the EHB company mission, services, and roadmap? Give details for documentation.","company_overview.txt")}async fetchModuleInfo(e){return this.fetchAndSaveInfo(`Explain the purpose, business logic, and APIs of the EHB module: ${e}.`,`${e}_info.txt`)}}e.exports=a},2471:(e,t,n)=>{n.r(t),n.d(t,{config:()=>c,default:()=>l,routeModule:()=>f});var o={};n.r(o),n.d(o,{default:()=>d});var r=n(3516),i=n(127),s=n(3007);n(3873);var a=n(918),u=n.n(a);async function d(e,t){if("GET"!==e.method)return t.status(405).json({error:"Method not allowed"});let n=process.env.OPENAI_API_KEY;if(!n)return t.status(500).json({error:"OpenAI API key not set in environment variables."});let{module:o}=e.query;if(!o)return t.status(400).json({error:"Module name is required as a query parameter (?module=ModuleName)."});try{let e=process.cwd(),r=new(u())(e);r.setOpenAIKey(n);let i=await r.fetchModuleInfo(o);t.status(200).json({info:i})}catch(e){t.status(500).json({error:e.message})}}let l=(0,s.M)(o,"default"),c=(0,s.M)(o,"config"),f=new r.PagesAPIRouteModule({definition:{kind:i.A.PAGES_API,page:"/api/module-info",pathname:"/api/module-info",bundlePath:"",filename:""},userland:o})},3007:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,n){return n in t?t[n]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,n)):"function"==typeof t&&"default"===n?t:void 0}}})},3516:(e,t,n)=>{e.exports=n(5600)},3873:e=>{e.exports=require("path")},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6082:e=>{e.exports=require("openai")},9021:e=>{e.exports=require("fs")}};var t=require("../../webpack-api-runtime.js");t.C(e);var n=t(t.s=2471);module.exports=n})();